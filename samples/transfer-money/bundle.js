(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){var __extends=this&&this.__extends||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p];function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)};var Person=function(){function Person(selector){this.character=d3.select(selector);this.initMoney(0);this.registerHandlers()}Person.prototype.registerHandlers=function(){};Person.prototype.getMoney=function(){return Number(this.character.text())};Person.prototype.setMoney=function(deposit){this.character.text(this.getMoney()+deposit)};Person.prototype.initMoney=function(val){this.character.text(val)};return Person}();var Remitter=function(_super){__extends(Remitter,_super);function Remitter(){_super.apply(this,arguments)}Remitter.prototype.registerHandlers=function(){var w=window;w.saveMoney=this.saveMoney.bind(this)};Remitter.prototype.saveMoney=function(deposit){if(deposit===void 0){deposit=1e3}this.setMoney(deposit);this.character.style({color:"#fa0"})};Remitter.prototype.beDecreasing=function(){var currentMoney=this.getMoney();this.character.transition().duration(2e3).tween("number",function(){var becomePoor=d3.interpolateRound(currentMoney,0);var beingDark=d3.interpolateRgb("#fa0","#ffffff");return function(t){this.textContent=becomePoor(t);d3.select(this).style({color:beingDark(t)})}})};return Remitter}(Person);var Depositor=function(_super){__extends(Depositor,_super);function Depositor(){_super.apply(this,arguments)}Depositor.prototype.registerHandlers=function(){var w=window};Depositor.prototype.beIncreasing=function(newMoney){var currentMoney=this.getMoney();var nextMoney=currentMoney+newMoney;var currentColor=this.character.style("color");this.character.transition().duration(2e3).tween("number",function(){var becomePoor=d3.interpolateRound(currentMoney,nextMoney);var beingDark=d3.interpolateRgb(currentColor,"#fa0");return function(t){this.textContent=becomePoor(t);d3.select(this).style({color:beingDark(t)})}})};return Depositor}(Person);var Transfer=function(){function Transfer(remitterSelector,depositorSelector){this.remitter=new Remitter(remitterSelector);this.depositor=new Depositor(depositorSelector);this.registerHandlers()}Transfer.prototype.registerHandlers=function(){var w=window;w.doTransfer=this.doTransfer.bind(this)};Transfer.prototype.doTransfer=function(){this.remitter.beDecreasing();this.depositor.beIncreasing(this.remitter.getMoney())};return Transfer}();var transfer=new Transfer(".remitter > .money",".depositor > .money");transfer.remitter.saveMoney(2e3)},{}]},{},[1]);
